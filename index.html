<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ambientes de Desenvolvimento de Software">
    <meta name="keywords" content="HTML, CSS, JavaScript">
    <meta name="author" content="Larissa Pereira">

    <style>   
        * {
        box-sizing: border-box;
        }

        body {
        font-family: Arial, Helvetica, sans-serif;
        margin: 0;
        }

        /* Style the top navigation bar */
        .cabecalho {
        overflow: hidden;
        background-color: rgb(80, 78, 82);
        color: white;
        text-align: center;
        }

       .corpo {
        float: left;
        padding: 30px;
        width: 100%;
        text-align: center;
        }
    </style>

    <script>
      function transformar() {
        var nome = document.forms["transformador"]["nomeCompleto"].value; //RECEBE O VALOR DIGITADO NO CAMPO NOME COMPLETO
        console.log("nome completo: "+ nome);
                
        if (nome == "") {
          alert("Há valores não preenchidos");
          return false;
        }
        
        var vetorNome = [];
        vetorNome = nome.split(" "); //CRIANDO UM VETOR PARA RECEBER O NOME COMPLETO, CADA ARRAY RECEBE UMA PALAVRA
        console.log("vetorNome: " + vetorNome);
        
        var primeiroNome = vetorNome[0]; //STRING primeiroNome RECEBE A PRIMEIRA PALAVRA
        console.log("primeiroNome: " + primeiroNome);
        
        var i = vetorNome.length -1; //STRING ultimoNome RECEBE A ULTIMA PALAVRA
        var ultimoNome = vetorNome[i]; 
        console.log("ultimoNome: " +ultimoNome);
        
        var nomesDoMeio = vetorNome.slice(1,i); //CRIANDO UM VETOR COM OS NOMES DO MEIO
        console.log("nomesDoMeio: " + nomesDoMeio);
        
        for (i = 0; i < nomesDoMeio.length; i++) { //SUBSTITUINDO OS NOMES DO MEIO PELA INICIAL
            var temp = nomesDoMeio[i].split("");
            console.log("temp: " + temp)
            nomesDoMeio[i] = temp[0];
            console.log("nomes do meio: " + nomesDoMeio)
        }

        //JUNTA TUDO
        var notacaoAbnt = ultimoNome.toUpperCase() + ", " + primeiroNome + " " + nomesDoMeio.join(" ");
        console.log(notacaoAbnt);
        
        
        document.forms["transformador"]["notacaoAbnt"].value = notacaoAbnt;
      }
    </script>
  </head>
  <body>
    <div class="cabecalho">
        <h1> Notação ABNT Fácil </h1>
    </div>

    <div class ="corpo">
        <fieldset style="width: 40%; margin-left: 30%">
        <form name="transformador">
            
            <p>Nome Completo: <input type="text" name="nomeCompleto" size="40" style="text-align: right;" > </p>       
            <p>Notação ABNT: <input type="text" name="notacaoAbnt" maxlength="100" size="30" style="text-align: right;"> </p>
            <p><input type="button" value="Submeter" name="btsubmeter" onclick="transformar()"> </p>
            
        </form>
        </fieldset>
    </div>
  </body>
</html>